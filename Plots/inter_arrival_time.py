import random

import numpy as np

# processingTimes = [[1.1133097399140566, 0.3326964295084625],
#                    [1.094745678194506, 1.6286031294498517, 0.532593647955212, 0.8911152075796677, 0.5090255664316595],
#                    [0.7073828348006161, 0.6517711974613443, 1.9392204655631946],
#                    [0.7485598185851388, 0.4062149175593138, 1.092522799862883, 0.7423988282762716, 0.4640786662484008],
#                    [0.7792989341235048, 0.5295547293318257], [1.0603226976040925, 0.5801718440121657],
#                    [2.879923305759011, 0.8927215524074494, 0.5209415819465274],
#                    [0.23935752501021715, 0.4101796222699292, 0.4291710981691177, 0.8749001497747643],
#                    [1.041506349177436, 0.9337170903808201, 0.5949324563455134], [0.12906213629704727]]
operationOrder = [[5, 4], [1, 3, 4, 5, 2], [5, 1, 3], [1, 5, 4, 3, 2], [4, 3], [3, 5], [1, 2, 5], [5, 2, 4, 3],
                  [5, 4, 2], [2]]
numberOfOperations = [1, 1, 1]
machinesPerWC = [4]
machine_number_WC = [[1, 2, 3, 4], [5, 6], [7, 8, 9, 10, 11], [12, 13, 14], [15, 16]]
setupTime = [[0.0, 0.9, 0.1, 1.1, 0.9, 1.1, 0.3, 0.9, 1.1, 1.1],
             [0.9, 0.0, 1.1, 0.3, 0.0, 0.8, 0.9, 0.1, 1.1, 0.8],
             [0.1, 1.1, 0.0, 0.3, 0.1, 0.4, 0.5, 0.9, 0.4, 0.1],
             [1.1, 0.3, 0.3, 0.0, 0.4, 0.0, 0.3, 0.6, 1.0, 0.1],
             [0.9, 0.0, 0.1, 0.4, 0.0, 0.2, 1.1, 0.8, 0.3, 0.8],
             [1.1, 0.8, 0.4, 0.0, 0.2, 0.0, 0.5, 0.2, 0.8, 0.3],
             [0.3, 0.9, 0.5, 0.3, 1.1, 0.5, 0.0, 0.4, 0.8, 0.2],
             [0.9, 0.1, 0.9, 0.6, 0.8, 0.2, 0.4, 0.0, 0.1, 0.1],
             [1.1, 1.1, 0.4, 1.0, 0.3, 0.8, 0.8, 0.1, 0.0, 0.6],
             [1.1, 0.8, 0.1, 0.1, 0.8, 0.3, 0.2, 0.1, 0.6, 0.0]]
mean_setup = [0.1631442445031352, 0.26822288945213113, 0.17729333076641793, 0.32117479791873244, 0.4589747168648205]
# demand = [0.09753129, 0.07806598, 0.09295521, 0.10675914, 0.07615153, 0.15247753,
#           0.13691097, 0.06290661, 0.13686145, 0.05938029]
demand = [0.3, 0.5, 0.2]

processingTimes = [[6.75], [3.75], [7.5]]

mean_proc_time = np.zeros(3)
for ii in range(3):
    mean_proc_time[ii] = np.sum(processingTimes[ii]) / len(processingTimes[ii])

print(mean_proc_time)

inter_arrival_time = sum(mean_proc_time * demand) * 1 / (3 * 0.95)

print(inter_arrival_time)
#
# q = 0
# for ii in range(10000):
#     q += random.expovariate(1/1.35)
# print(q/10000)


